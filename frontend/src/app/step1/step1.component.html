<h2>{{'step1.title' | translate}}</h2>
<div class="p-0 m-0">
    <p-message class="mt-3" severity="info" [text]="'step1.info1' | translate"></p-message>
</div>

<div class="row p-0 m-0 h-75">
    <div class="m-2" *ngIf="errorMessage$ | async as errorMessage">
        <p-message class="mt-3" severity="error"
                   [text]="errorMessage"></p-message>
    </div>
    <textarea class="col-12 mr-2 " pInputTextarea [autoResize]="true" [(ngModel)]="currentSpecification"
              [disabled]="uploadModalVisibility || savedModalVisibility"></textarea>
</div>
<div class="row mt-4 p-0 m-0">
    <button class="m-1 fixed-button-size" (click)="onDelete()" pButton label="Small" type="button"
            icon="pi pi-minus"
            *ngIf="getSpecifications().length > 0"
            [disabled]="isButtonDisabled()"
            [label]="('global.delete' | translate) ||  ' '"></button>
    <button class="m-1 fixed-button-size" (click)="onUpload()" pButton label="Small" type="button"
            *ngIf="getSpecifications().length > 0"
            icon="pi pi-upload"
            [disabled]="isButtonDisabled()"
            [label]="('global.upload' | translate) ||  ' '"></button>
    <button class="m-1 fixed-button-size" (click)="onSave()" pButton label="Small" type="button"
            icon="pi pi-save"
            [disabled]="isButtonDisabled()"
            [label]="('global.save' | translate)  ||  ' '"></button>
    <button class="m-1 fixed-button-size" (click)="onSubmit()" pButton label="Small" type="button"
            icon="pi pi-check"
            [disabled]="isButtonDisabled()"
            [label]="('global.submit' | translate) ||  ' '"></button>

    <p-dialog [responsive]="true"  [header]="'global.save' | translate" [style]="{width: '50vw'}" [(visible)]="savedModalVisibility">
        <div class="p-fluid">
            <div class="row m-md-5 m-0">
                <label for="name" class="col-md-2 col-12">{{'global.name' | translate }}</label>
                <input class="col-10 w-100" id="name" type="text" [(ngModel)]="specName" pInputText>
                <p-message *ngIf="specAlreadyExist(specName)" class="mt-3" severity="warn"
                           [text]="'save-dialog.already-exist' | translate"></p-message>
            </div>
        </div>
        <p-footer>
            <div class="text-center">
                <button class="m-1 fixed-button-size p-button-secondary" (click)="onCancelModal()" pButton
                        label="Small"
                        type="button" icon="pi pi-times"
                        [label]="('global.cancel' | translate) || ' '"></button>
                <button class="m-1 fixed-button-size" (click)="onSaveModal()" pButton label="Small"
                        type="button"
                        icon="pi pi-check"
                        [label]="('global.save' | translate)  ||  ' '"></button>
            </div>
        </p-footer>
    </p-dialog>
    <p-dialog [responsive]="true"  [header]="'global.upload' | translate" [(visible)]="uploadModalVisibility" [style]="{width: '50vw'}"
              *ngIf="getSpecifications().length > 0">
        <div class="p-fluid">
            <div class="row m-md-5 m-0">
                <label for="name" class="col-2 mt-2">{{'global.name' | translate }}</label>
                <p-dropdown appendTo="body" class="col-10 w-100"
                            [options]="[{name: ('upload.default-dropdown' | translate), value: ''}].concat(getSpecifications())"
                            [(ngModel)]="selectedAlgebra" optionLabel="name"></p-dropdown>
            </div>
        </div>
        <p-footer>
            <div class="text-center">
                <button class="m-1 fixed-button-size p-button-secondary" (click)="onCancelModal()" pButton
                        label="Small"
                        type="button" icon="pi pi-times"
                        [label]="('global.cancel' | translate) || ' '"></button>
                <button class="m-1 fixed-button-size"
                        [disabled]="!selectedAlgebra || selectedAlgebra.value === ''" (click)="upload()"
                        pButton label="Small"
                        type="button"
                        icon="pi pi-check"
                        [label]="('global.upload' | translate) || ' '"></button>

            </div>
        </p-footer>
    </p-dialog>
    <p-dialog [responsive]="true"  [header]="'global.delete' | translate" [(visible)]="deleteModalVisibility" [style]="{width: '50vw'}"
              *ngIf="getSpecifications().length > 0">
        <div class="p-fluid">
            <div class="row m-md-5 m-0">
                <label for="name" class="col-2 mt-2">{{'global.name' | translate }}</label>
                <p-dropdown appendTo="body" class="col-10 w-100"
                            [options]="[{name: ('upload.default-dropdown' | translate), value: ''}].concat(getSpecifications())"
                            [(ngModel)]="selectedAlgebra" optionLabel="name"></p-dropdown>
            </div>
        </div>
        <p-footer>
            <div class="text-center">
                <button class="m-1 fixed-button-size p-button-secondary" (click)="onCancelModal()" pButton
                        label="Small"
                        type="button" icon="pi pi-times"
                        [label]="('global.cancel' | translate) || ' '"></button>
                <button class="m-1 fixed-button-size"
                        [disabled]="!selectedAlgebra || selectedAlgebra.value === ''" (click)="delete()"
                        pButton label="Small"
                        type="button"
                        icon="pi pi-check"
                        [label]="('global.delete' | translate) || ' '"></button>

            </div>
        </p-footer>
    </p-dialog>
</div>
